# Bcg Shopping Cart

## Requirements

Checkout system as a standalone NodeJS API that supports different items and promotions.

### Items

| SKU    | Name          | Price   |
| ------ | ------------- | ------- |
| 120P90 | Google Home   | 49.99   |
| 43N23P | MacBook Pro   | 5399.99 |
| A304SD | Alexa Speaker | 109.50  |
| 344222 | Raspberry Pi  | 30.00   |

### Promotions

- Buy 3 Google Homes for the price of 2
- Each sale of a MacBook Pro comes with a free Raspberry Pi
- Buying more than 3 Alexa Speakers will have a 10% discount on all Alexa speakers

#### Example Scenarios

- Scanned Items: MacBook Pro, Raspberry Pi B 
  - Total: $5,399.99
- Scanned Items: Google Home, Google Home, Google Home 
  - Total: $99.98
- Scanned Items: Alexa Speaker, Alexa Speaker, Alexa Speaker 
  - Total: $295.65

## Assumptions

- The scanned items represent the items that a user has in the shopping cart.
- There are no limits on the inventory of the products.
- The system will only place orders (the order processing is out of the scope).
- Items will be added one type at a time, specifying the quantity.
- Items will be removed one at a time.
- Authentication
  - Users don't need to register/login in order to add items to their cart and proceed with the checkout.
  - Session-based approach where each cart will be identified by a unique session ID.
  - The session ID can be stored in cookies on the client-side and sent with each request to identify the user's cart.
  - The session ID expiration time will be 2h, allowing users enough time to browse and make decisions, and also ensuring that server resources are not excessively tied up with inactive sessions.
- Storage
  - Redis will be used as an in-memory key–value database.
  - Redis has built-in mechanisms to handle session expiration and cleanup.

## REST Resources

To enable continuous improvement, maintaining backward compatibility and managing different user requirements effectively, the API will have URI path versioning, which means that all REST resources will have the based URL `/api/v1`. Here's the list of the available endpoints:

1. List items: `[GET]` - `/items`
2. Get cart: `[GET]` - `/cart`
3. Add item to cart: `[POST]` - `/cart/items/{SKU}`
4. Remove item from cart: `[DELETE]` - `/cart/items/{SKU}`
5. Checkout: `[POST]` - `/checkout`

More details about each endpoint can be found in the `/spec/api/shopping-cart` directory.

---

## Start the application

Run `npx nx serve shopping_cart` to start the development server. Happy coding!

## Build for production

Run `npx nx build shopping_cart` to build the application. The build artifacts are stored in the output directory (e.g. `dist/` or `build/`), ready to be deployed.

<a alt="Nx logo" href="https://nx.dev" target="_blank" rel="noreferrer"><img src="https://raw.githubusercontent.com/nrwl/nx/master/images/nx-logo.png" width="45"></a>

✨ **This workspace has been generated by [Nx, Smart Monorepos · Fast CI.](https://nx.dev)** ✨
